<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Project3_Client/src/Components/CreateMealModal.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Project3_Client/src/Components/CreateMealModal.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @fileoverview CreateMealModal component for meal customization.
 * Allows users to create meals by selecting entrees, sides, apps, and drinks.
 * Supports both meal creation and meal editing modes.
 */

import React, { useEffect, useState } from "react";
import "../styles/Cashier/DiscountModal.css";

/**
 * CreateMealModal component - Modal for creating/customizing meals.
 * 
 * @param {Object} props - Component props
 * @param {boolean} props.show - Controls modal visibility
 * @param {Function} props.onClose - Callback when modal closes
 * @param {string} props.initialType - Type of meal (bowl, platter, etc.)
 * @param {Function} props.onBought - Callback when meal is completed
 * @param {Function} props.requestSizeSelection - Callback to request size selection
 * @param {string} [props.selectedSize] - Pre-selected size
 * @param {number} [props.customizingIndex] - Index of meal being customized
 * @param {Object} [props.initialOrderData] - Initial order data for editing
 * @returns {JSX.Element|null} Meal creation modal or null
 */
export default function CreateMealModal({ show, onClose, initialType, onBought, requestSizeSelection, selectedSize, customizingIndex, initialOrderData }) {
  const [extraMenus, setExtraMenus] = useState([]);
  const isCustomizeMode = customizingIndex !== null &amp;&amp; customizingIndex !== undefined;

  const [showMealGUI, setShowMealGUI] = useState(false);
  const [showAppGUI, setShowAppGUI] = useState(false);
  const [showDrinkGUI, setShowDrinkGUI] = useState(false);
  const [showBottleGUI, setShowBottleGUI] = useState(false);
  const [showAlcGUI, setShowAlcGUI] = useState(false);

  const [numEntree, setNumEntree] = useState(0);
  const [numSide, setNumSide] = useState(0);
  const [numApp, setNumApp] = useState(0);
  const [numDrink, setNumDrink] = useState(0);
  const [numALC, setNumALC] = useState(0);

  const [entreeList, setEntreeList] = useState([]);
  const [sideList, setSideList] = useState([]);
  const [appList, setAppList] = useState([]);
  const [drinkList, setDrinkList] = useState([]);
  const [alcList, setAlcList] = useState([]);
  const [drinkSizes, setDrinkSizes] = useState([]);
  const [alcSizes, setAlcSizes] = useState([]);

  const [indexEntree, setIndexEntree] = useState(0);
  const [indexSide, setIndexSide] = useState(0);
  const [indexApp, setIndexApp] = useState(0);
  const [indexDrink, setIndexDrink] = useState(0);
  const [indexALC, setIndexALC] = useState(0);

  const [alcMode, setAlcMode] = useState(false);

  const itemRowSize = 8;

  // fetch menus by type (copied from original file)
  /**
   * Fetches menu items of a specified type from the backend.
   * @async
   * @param {string} type - Menu item type (entree, side, appetizer, drink, bottle)
   * @returns {Promise&lt;Array>} Array of menu items or empty array on error
   */
  const fetchMenusByType = async (type) => {
    try {
      const response = await fetch("/api/fetch-menus-by-type", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ type }),
      });
      const data = await response.json();
      if (response.ok) return data;
      console.error("Error fetching menus:", data.error);
      return [];
    } catch (error) {
      console.error("Error fetching menus:", error);
      return [];
    }
  };

  // Fetch menus once when modal opens
  useEffect(() => {
    if (!show) return;
    let mounted = true;
    (async () => {
      const fetchedEntrees = await fetchMenusByType("entree");
      const fetchedSides = await fetchMenusByType("side");
      const fetchedApps = await fetchMenusByType("appetizer");
      const fetchedDrinks = await fetchMenusByType("drink");
      const fetchedBottles = await fetchMenusByType("bottle");
      if (!mounted) return;
      setExtraMenus([...(fetchedEntrees || []), ...(fetchedSides || []), ...(fetchedApps || []), ...(fetchedDrinks || []), ...(fetchedBottles || [])]);
    })();
    return () => { mounted = false; };
  }, [show]);

  // prepare categorized arrays
  const items_entrees = [];
  const items_sides = [];
  const items_apps = [];
  const items_drinks = [];
  const items_bottles = [];

  for (let i = 0; i &lt; extraMenus.length; i++) {
    const it = extraMenus[i];
    const t = (it.type || "").toLowerCase();
    if (t === "entree") items_entrees.push(it);
    else if (t === "side") items_sides.push(it);
    else if (t === "appetizer" || t === "app") items_apps.push(it);
    else if (t === "drink") items_drinks.push(it);
    else if (t === "bottle") items_bottles.push(it);
    else items_sides.push(it);
  }

  const items_alc = [...items_entrees, ...items_sides];

  const rows_entree = [];
  for (let i = 0; i &lt; items_entrees.length; i += itemRowSize) rows_entree.push(items_entrees.slice(i, i + itemRowSize));
  const rows_side = [];
  for (let i = 0; i &lt; items_sides.length; i += itemRowSize) rows_side.push(items_sides.slice(i, i + itemRowSize));
  const rows_app = [];
  for (let i = 0; i &lt; items_apps.length; i += itemRowSize) rows_app.push(items_apps.slice(i, i + itemRowSize));
  const rows_drink = [];
  for (let i = 0; i &lt; items_drinks.length; i += itemRowSize) rows_drink.push(items_drinks.slice(i, i + itemRowSize));
  const rows_bottle = [];
  for (let i = 0; i &lt; items_bottles.length; i += itemRowSize) rows_bottle.push(items_bottles.slice(i, i + itemRowSize));
  const rows_alc = [];
  for (let i = 0; i &lt; items_alc.length; i += itemRowSize) rows_alc.push(items_alc.slice(i, i + itemRowSize));

  // initialize modal internal state when opened or when initialType changes
  useEffect(() => {
    if (!show) return;
    const id = initialType;
    // reset lists and indexes
    setEntreeList([]); setSideList([]); setAppList([]); setDrinkList([]); setAlcList([]);
    setIndexEntree(0); setIndexSide(0); setIndexApp(0); setIndexDrink(0); setIndexALC(0);
    setShowMealGUI(false); setShowAppGUI(false); setShowDrinkGUI(false); setShowBottleGUI(false); setShowAlcGUI(false);

    let newNumEntree = 0, newNumSide = 0, newNumApp = 0, newNumDrink = 0, newNumALC = 0;

    switch (id) {
      case "Bowl": newNumEntree = 1; newNumSide = 2; setShowMealGUI(true); break;
      case "Plate": newNumEntree = 2; newNumSide = 2; setShowMealGUI(true); break;
      case "Bigger": newNumEntree = 3; newNumSide = 2; setShowMealGUI(true); break;
      case "Family": newNumEntree = 3; newNumSide = 2; setShowMealGUI(true); break;
      case "A La Carte": newNumALC = 1; setShowAlcGUI(true); setAlcMode(true); break;
      case "Drink": newNumDrink = 1; setShowDrinkGUI(true); setAlcMode(false); break;
      case "Bottle": newNumDrink = 1; setShowBottleGUI(true); setAlcMode(false); break;
      case "Appetizer": newNumApp = 1; setShowAppGUI(true); break;
      default: /* leave defaults */ break;
    }

    setNumEntree(newNumEntree); setNumSide(newNumSide); setNumApp(newNumApp); setNumDrink(newNumDrink); setNumALC(newNumALC);
    
    // Initialize lists with nulls
    let initEntreeList = Array(newNumEntree).fill(null);
    let initSideList = Array(newNumSide).fill(null);
    let initAppList = Array(newNumApp).fill(null);
    let initDrinkList = Array(newNumDrink).fill(null);
    let initAlcList = Array(newNumALC).fill(null);
    
    // If customizing, populate from initialOrderData
    if (isCustomizeMode &amp;&amp; initialOrderData) {
      const toObj = (item) => (typeof item === 'string' ? { menuName: item } : { menuName: item.name || item.menuName });
      
      if (initialOrderData.entrees &amp;&amp; Array.isArray(initialOrderData.entrees)) {
        initialOrderData.entrees.forEach((item, idx) => {
          if (idx &lt; newNumEntree) initEntreeList[idx] = toObj(item);
        });
        // Set index to the next empty slot, or the length if full
        const filledCount = Math.min(initialOrderData.entrees.length, newNumEntree);
        setIndexEntree(filledCount);
      }
      
      if (initialOrderData.sides &amp;&amp; Array.isArray(initialOrderData.sides)) {
        initialOrderData.sides.forEach((item, idx) => {
          if (idx &lt; newNumSide) initSideList[idx] = toObj(item);
        });
        const filledCount = Math.min(initialOrderData.sides.length, newNumSide);
        setIndexSide(filledCount);
      }

      // Handle A La Carte / Drink / Appetizer if needed
      // Note: The current backend structure for ALC/Drink might be different (entrees list vs specific fields)
      // But based on UpdatePage, everything is in entrees/sides or just 'item'
      
      // For ALC, the item itself is the entree
      if (id === "A La Carte" &amp;&amp; initialOrderData.entrees &amp;&amp; initialOrderData.entrees.length > 0) {
         initialOrderData.entrees.forEach((item, idx) => {
            if (idx &lt; newNumALC) {
              initAlcList[idx] = toObj(item);
              // If the item has a size property, use it
              if (item.size) setAlcSizes(prev => { const u = [...prev]; u[idx] = item.size; return u; });
            }
         });
         setIndexALC(Math.min(initialOrderData.entrees.length, newNumALC));
      }
      
      // For Drink, similar logic
      if (id === "Drink" &amp;&amp; initialOrderData.entrees &amp;&amp; initialOrderData.entrees.length > 0) {
         initialOrderData.entrees.forEach((item, idx) => {
            if (idx &lt; newNumDrink) initDrinkList[idx] = toObj(item);
         });
         setIndexDrink(Math.min(initialOrderData.entrees.length, newNumDrink));
         // If top-level size exists, use it for the drink
         if (initialOrderData.size) {
            setDrinkSizes(Array(newNumDrink).fill(initialOrderData.size));
         }
      }
    }

    setEntreeList(initEntreeList); 
    setSideList(initSideList); 
    setAppList(initAppList); 
    setDrinkList(initDrinkList); 
    setAlcList(initAlcList);
    
    // default sizes: prefer the selectedSize passed from Cashier, otherwise default to 'Small'
    // Only overwrite if we didn't set them from initialOrderData (which we did above via setAlcSizes/setDrinkSizes calls, but wait...)
    // The setAlcSizes calls above are inside the if block.
    // But here I am overwriting them with defaultSize.
    // I should initialize them correctly first.
    
    const defaultSize = selectedSize || 'Small';
    let initDrinkSizes = Array(newNumDrink).fill(defaultSize);
    let initAlcSizes = Array(newNumALC).fill(defaultSize);
    
    if (isCustomizeMode &amp;&amp; initialOrderData) {
        if (id === "Drink" &amp;&amp; initialOrderData.size) {
            initDrinkSizes.fill(initialOrderData.size);
        }
        if (id === "A La Carte" &amp;&amp; initialOrderData.entrees) {
            initialOrderData.entrees.forEach((item, idx) => {
                if (idx &lt; newNumALC &amp;&amp; item.size) {
                    initAlcSizes[idx] = item.size;
                }
            });
        }
    }
    
    setDrinkSizes(initDrinkSizes); 
    setAlcSizes(initAlcSizes);
  }, [show, initialType, initialOrderData, isCustomizeMode]);

  /**
   * Adds selected menu item to appropriate meal component list (entree, side, appetizer, drink).
   * Increments the corresponding index if slots remain available.
   * @param {Object} item - Menu item object to add
   */
  const selectAttribute = (item) => {
    if (alcMode) {
      setIndexALC(prev => {
        if (prev >= numALC) return prev;
        setAlcList(prevList => { const updated = [...prevList]; updated[prev] = item; return updated; });
        return prev + 1;
      });
      return;
    }
    const t = (item.type || "").toLowerCase();
    if (t === "entree") {
      setIndexEntree(prev => {
        if (prev >= numEntree) return prev;
        setEntreeList(prevList => { const updated = [...prevList]; updated[prev] = item; return updated; });
        return prev + 1;
      });
    } else if (t === "side") {
      setIndexSide(prev => {
        if (prev >= numSide) return prev;
        setSideList(prevList => { const updated = [...prevList]; updated[prev] = item; return updated; });
        return prev + 1;
      });
    } else if (t === "appetizer") {
      setIndexApp(prev => {
        if (prev >= numApp) return prev;
        setAppList(prevList => { const updated = [...prevList]; updated[prev] = item; return updated; });
        return prev + 1;
      });
    } else if (t === "drink" || t === "bottle") {
      setIndexDrink(prev => {
        if (prev >= numDrink) return prev;
        setDrinkList(prevList => { const updated = [...prevList]; updated[prev] = item; return updated; });
        // set a default size for this drink slot (use existing value if present)
        setDrinkSizes(prev => { const u = [...prev]; if (!u[prev]) u[prev] = selectedSize || 'Small'; return u; });
        return prev + 1;
      });
    }
  };

  /**
   * Removes item at specified index from meal component list.
   * Compacts array and adjusts selection index accordingly.
   * @param {number} i - Index of item to remove
   * @param {string} type - Component type (Entree, Side, Appetizer, Drink, A La Carte)
   */
  const removeIndex = (i, type) => {
    if (type === "Entree") {
      const updated = [...entreeList]; updated[i] = null; const compact = updated.filter(x => x !== null); while (compact.length &lt; numEntree) compact.push(null); setEntreeList(compact); setIndexEntree(Math.max(indexEntree - 1, 0));
    } else if (type === "Side") {
      const updated = [...sideList]; updated[i] = null; const compact = updated.filter(x => x !== null); while (compact.length &lt; numSide) compact.push(null); setSideList(compact); setIndexSide(Math.max(indexSide - 1, 0));
    } else if (type === "Appetizer") {
      const updated = [...appList]; updated[i] = null; const compact = updated.filter(x => x !== null); while (compact.length &lt; numApp) compact.push(null); setAppList(compact); setIndexApp(Math.max(indexApp - 1, 0));
    } else if (type === "Drink") {
      const updated = [...drinkList]; updated[i] = null; const compact = updated.filter(x => x !== null); while (compact.length &lt; numDrink) compact.push(null); setDrinkList(compact); setIndexDrink(Math.max(indexDrink - 1, 0));
    } else if (type === "A La Carte") {
      const updated = [...alcList]; updated[i] = null; const compact = updated.filter(x => x !== null); while (compact.length &lt; numALC) compact.push(null); setAlcList(compact); setIndexALC(Math.max(indexALC - 1, 0));
    }
  };

  // set size handlers for drink and a la carte entries
  /**
   * Sets the size for a drink item at specified index.
   * @param {number} i - Index of drink in drink list
   * @param {string} size - Size value (Small, Medium, Large, etc.)
   */
  const setDrinkSizeAt = (i, size) => {
    setDrinkSizes(prev => { const u = [...prev]; u[i] = size; return u; });
  };
  /**
   * Sets the size for an a la carte item at specified index.
   * @param {number} i - Index of item in a la carte list
   * @param {string} size - Size value (Small, Medium, Large, etc.)
   */
  const setAlcSizeAt = (i, size) => {
    setAlcSizes(prev => { const u = [...prev]; u[i] = size; return u; });
  };

  /**
   * Completes meal configuration and adds it to the order.
   * Validates all required items are selected before finalizing.
   * Calls onAddMeal callback with configured meal data.
   */
  const handleFinishSelection = () => {
    let finished = false;
    const mealTypes = ["Bowl", "Plate", "Bigger", "Family"];
    const drinkTypes = ["Drink", "Bottle"];
    if (mealTypes.includes(initialType)) finished = (indexEntree === numEntree) &amp;&amp; (indexSide === numSide || (indexSide + 1 === numSide &amp;&amp; initialType != "Family"));
    else if (initialType === "A La Carte") finished = (indexALC === numALC);
    else if (initialType === "Appetizer") finished = (indexApp === numApp);
    else if (drinkTypes.includes(initialType)) finished = (indexDrink === numDrink);
    else finished = (indexEntree === numEntree) &amp;&amp; (indexSide === numSide);

    if (!finished) return;
    // Normalizer helper: convert selected menu objects into string names the server expects
    const normalize = (it) => {
      if (!it) return null;
      if (typeof it === 'string') return it;
      // prefer `.name` but accept legacy `menuName` as well
      return it.name || it.menuName || String(it);
    };

    const payloadEntreeList = [];
    (Array.isArray(entreeList) ? entreeList : []).forEach(it => { const n = normalize(it); if (n) payloadEntreeList.push(n); });
  if (initialType === "A La Carte") (Array.isArray(alcList) ? alcList : []).forEach((it, idx) => { const n = normalize(it); if (n) payloadEntreeList.push(alcSizes[idx] ? { name: n, size: alcSizes[idx] } : { name: n }); });
  if (initialType === "Appetizer") (Array.isArray(appList) ? appList : []).forEach(it => { const n = normalize(it); if (n) payloadEntreeList.push(n); });
  if (initialType === "Drink" || initialType === "Bottle") (Array.isArray(drinkList) ? drinkList : []).forEach((it, idx) => { const n = normalize(it); if (n) payloadEntreeList.push(drinkSizes[idx] ? { name: n, size: drinkSizes[idx] } : { name: n }); });

    const payloadSideList = [];
    (Array.isArray(sideList) ? sideList : []).forEach(it => { const n = normalize(it); if (n) payloadSideList.push(n); });

    // If this was a single-item flow (A La Carte / Drink / Bottle) and the first entree includes a size,
    // also provide a top-level `size` field for backwards compatibility with server APIs that expect it.
    let topLevelSize = null;
    try {
      if (["A La Carte", "Drink"].includes(initialType) &amp;&amp; Array.isArray(payloadEntreeList) &amp;&amp; payloadEntreeList.length === 1) {
        const first = payloadEntreeList[0];
        if (first &amp;&amp; typeof first === 'object' &amp;&amp; first.size) topLevelSize = first.size;
      }
    } catch (e) { /* ignore */ }

    // Determine the endpoint and payload based on mode
    const endpoint = isCustomizeMode ? "/api/update-item" : "/api/buy-item";
    const payload = isCustomizeMode 
      ? { itemIndex: customizingIndex, itemID: initialType, entreeList: payloadEntreeList, sideList: payloadSideList, size: topLevelSize }
      : { itemID: initialType, entreeList: payloadEntreeList, sideList: payloadSideList, size: topLevelSize };

    fetch(endpoint, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    })
      .then(res => res.json())
      .then(data => {
        if (data.success) {
          if (typeof onBought === 'function') onBought();
        } else {
          console.error("Failed to buy/update item:", initialType);
        }
        onClose();
      }).catch(e => {
        console.error(e); onClose();
      });
  };

  if (!show) return null;

  return (
    &lt;div className="modal-overlay-meal" style={{ position: "fixed", top: 0, left: 0, width: "100vw", height: "100vh", background: "rgba(0,0,0,0.6)", display: "flex", alignItems: "center", justifyContent: "center", zIndex: 1000 }} onClick={() => onClose()}>
      &lt;div className="p-4 space-y-3 modal-menu-container" style={{ background: "#f9f9fb", padding: "2.5rem 2rem 2rem 2rem", borderRadius: "16px", boxShadow: "0 8px 32px rgba(0,0,0,0.25)", minWidth: "90vw", maxWidth: "90vw", position: "relative", display: "flex", flexDirection: "column", alignItems: "center" }} onClick={e => e.stopPropagation()}>
        {showMealGUI &amp;&amp; (
          &lt;>
            &lt;div className="main-layout">
              &lt;div className="menu-wrapper">
                &lt;div className="section section-entrees">
                  &lt;h3 className="section-title">Entrees:&lt;/h3>
                  {rows_entree.map((row, rowIndex) => (
                    &lt;div key={rowIndex} className={`menu-row `}>
                      {row.map((item, itemIndex) => (
                        &lt;button key={itemIndex} id={item.menuName} className="buy-button" onClick={() => selectAttribute(item)}>{item.menuName}&lt;/button>
                      ))}
                    &lt;/div>
                  ))}
                &lt;/div>
                &lt;div className="section section-sides">
                  &lt;h3 className="section-title">Sides:&lt;/h3>
                  {rows_side.map((row, rowIndex) => (
                    &lt;div key={rowIndex} className={`menu-row ${rowIndex > 0 ? 'spaced' : ''}`}>
                      {row.map((item, itemIndex) => (
                        &lt;button key={itemIndex} id={item.menuName} className="buy-button" onClick={() => selectAttribute(item)}>{item.menuName}&lt;/button>
                      ))}
                    &lt;/div>
                  ))}
                &lt;/div>
              &lt;/div>
            &lt;/div>

            &lt;div className="selected-panel">
              &lt;div className="selected-group">
                &lt;h3 className="section-title">Selected Entrees&lt;/h3>
                {Array.from({ length: numEntree }).map((_, i) => (
                  &lt;button key={i} className="selected-button" onClick={() => removeIndex(i, "Entree")}>{entreeList[i] ? entreeList[i].menuName : "NONE"}&lt;/button>
                ))}
              &lt;/div>
              &lt;div className="selected-group">
                &lt;h3 className="section-title">Selected Sides&lt;/h3>
                {Array.from({ length: numSide }).map((_, i) => (
                  &lt;button key={i} className="selected-button" onClick={() => removeIndex(i, "Side")}>{sideList[i] ? sideList[i].menuName : "NONE"}&lt;/button>
                ))}
              &lt;/div>
            &lt;/div>
          &lt;/>
        )}

        {showDrinkGUI &amp;&amp; (
          &lt;>
            &lt;div className="main-layout">
              &lt;div className="menu-wrapper">
                &lt;div className="section section-drinks">
                  &lt;h3 className="section-title">Drinks:&lt;/h3>
                  {rows_drink.map((row, rowIndex) => (
                    &lt;div key={rowIndex} className={`menu-row `}>
                      {row.map((item, itemIndex) => (
                        &lt;button key={itemIndex} id={item.menuName} className="buy-button" onClick={() => selectAttribute(item)}>{item.menuName}&lt;/button>
                      ))}
                    &lt;/div>
                  ))}
                &lt;/div>
              &lt;/div>
            &lt;/div>
            &lt;div className="selected-panel">
              &lt;div className="selected-group">
                &lt;h3 className="section-title">Selected Drink&lt;/h3>
                {Array.from({ length: numDrink }).map((_, i) => (
                  &lt;div key={i} style={{ display: 'flex', gap: '0.5rem', alignItems: 'center' }}>
                    &lt;button className="selected-button" onClick={() => removeIndex(i, "Drink")}>{drinkList[i] ? `${drinkList[i].menuName}${drinkSizes[i] ? ` (${drinkSizes[i]})` : ''}` : "NONE"}&lt;/button>
                    &lt;button className="small-button" onClick={() => {
                      if (typeof requestSizeSelection === 'function') {
                        requestSizeSelection((size) => setDrinkSizeAt(i, size));
                      }
                    }}>Set Size&lt;/button>
                  &lt;/div>
                ))}
              &lt;/div>
            &lt;/div>
          &lt;/>
        )}

        {showBottleGUI &amp;&amp; (
          &lt;>
            &lt;div className="main-layout">
              &lt;div className="menu-wrapper">
                &lt;div className="section section-drinks">
                  &lt;h3 className="section-title">Bottles:&lt;/h3>
                  {rows_bottle.map((row, rowIndex) => (
                    &lt;div key={rowIndex} className={`menu-row `}>
                      {row.map((item, itemIndex) => (
                        &lt;button key={itemIndex} id={item.menuName} className="buy-button" onClick={() => selectAttribute(item)}>{item.menuName}&lt;/button>
                      ))}
                    &lt;/div>
                  ))}
                &lt;/div>
              &lt;/div>
            &lt;/div>
            &lt;div className="selected-panel">
              &lt;div className="selected-group">
                &lt;h3 className="section-title">Selected Bottle&lt;/h3>
                {Array.from({ length: numDrink }).map((_, i) => (
                  &lt;button key={i} className="selected-button" onClick={() => removeIndex(i, "Drink")}>{drinkList[i] ? drinkList[i].menuName : "NONE"}&lt;/button>
                ))}
              &lt;/div>
            &lt;/div>
          &lt;/>
        )}

        {showAlcGUI &amp;&amp; (
          &lt;>
            &lt;div className="main-layout">
              &lt;div className="menu-wrapper">
                &lt;div className="section section-entrees">
                  &lt;h3 className="section-title">A La Carte&lt;/h3>
                  {rows_alc.map((row, rowIndex) => (
                    &lt;div key={rowIndex} className={`menu-row `}>
                      {row.map((item, itemIndex) => (
                        &lt;button key={itemIndex} id={item.menuName} className="buy-button" onClick={() => selectAttribute(item)}>{item.menuName}&lt;/button>
                      ))}
                    &lt;/div>
                  ))}
                &lt;/div>
              &lt;/div>
            &lt;/div>
            &lt;div className="selected-panel">
              &lt;div className="selected-group">
                &lt;h3 className="section-title">Selected Item&lt;/h3>
                {Array.from({ length: numALC }).map((_, i) => (
                  &lt;div key={i} style={{ display: 'flex', gap: '0.5rem', alignItems: 'center' }}>
                    &lt;button className="selected-button" onClick={() => removeIndex(i, "A La Carte")}>{alcList[i] ? `${alcList[i].menuName}${alcSizes[i] ? ` (${alcSizes[i]})` : ''}` : "NONE"}&lt;/button>
                    &lt;button className="small-button" onClick={() => {
                      if (typeof requestSizeSelection === 'function') {
                        requestSizeSelection((size) => setAlcSizeAt(i, size));
                      }
                    }}>Set Size&lt;/button>
                  &lt;/div>
                ))}
              &lt;/div>
            &lt;/div>
          &lt;/>
        )}

        {showAppGUI &amp;&amp; (
          &lt;>
            &lt;div className="main-layout">
              &lt;div className="menu-wrapper">
                &lt;div className="section section-entrees">
                  &lt;h3 className="section-title">Appetizers:&lt;/h3>
                  {rows_app.map((row, rowIndex) => (
                    &lt;div key={rowIndex} className={`menu-row `}>
                      {row.map((item, itemIndex) => (
                        &lt;button key={itemIndex} id={item.menuName} className="buy-button" onClick={() => selectAttribute(item)}>{item.menuName}&lt;/button>
                      ))}
                    &lt;/div>
                  ))}
                &lt;/div>
              &lt;/div>
            &lt;/div>
            &lt;div className="selected-panel">
              &lt;div className="selected-group">
                &lt;h3 className="section-title">Selected Appetizer&lt;/h3>
                {Array.from({ length: numApp }).map((_, i) => (
                  &lt;button key={i} className="selected-button" onClick={() => removeIndex(i, "Appetizer")}>{appList[i] ? appList[i].menuName : "NONE"}&lt;/button>
                ))}
              &lt;/div>
            &lt;/div>
          &lt;/>
        )}

        &lt;button className="continue-button" onClick={handleFinishSelection}>{isCustomizeMode ? "Update Order" : "Continue"}&lt;/button>
      &lt;/div>
    &lt;/div>
  );
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="CashierMainPage.html">CashierMainPage</a></li><li><a href="Manager.html">Manager</a></li><li><a href="Transaction.html">Transaction</a></li><li><a href="User.html">User</a></li></ul><h3>Global</h3><ul><li><a href="global.html#TranslationContext">TranslationContext</a></li><li><a href="global.html#buildTraySummaries">buildTraySummaries</a></li><li><a href="global.html#chatWithAI">chatWithAI</a></li><li><a href="global.html#clearOrder">clearOrder</a></li><li><a href="global.html#decodeHTMLEntities">decodeHTMLEntities</a></li><li><a href="global.html#loadOrder">loadOrder</a></li><li><a href="global.html#printHistory">printHistory</a></li><li><a href="global.html#saveOrder">saveOrder</a></li><li><a href="global.html#translateMultiple">translateMultiple</a></li><li><a href="global.html#translateText">translateText</a></li><li><a href="global.html#useTranslate">useTranslate</a></li><li><a href="global.html#useTranslatedArray">useTranslatedArray</a></li><li><a href="global.html#useTranslatedObject">useTranslatedObject</a></li><li><a href="global.html#useTranslatedText">useTranslatedText</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.5</a> on Tue Dec 09 2025 19:51:30 GMT-0600 (Central Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
